{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["function createFormMarkup() {\n  return `\n    <form class=\"feedback-form\" autocomplete=\"off\">\n      <label>\n        Email\n        <input type=\"email\" name=\"email\" autofocus />\n      </label>\n      <label>\n        Message\n        <textarea name=\"message\" rows=\"8\"></textarea>\n      </label>\n      <button type=\"submit\">Submit</button>\n    </form>\n  `;\n}\n\nconst formContainer = document.getElementById('form-container');\nformContainer.innerHTML = createFormMarkup();\n\nconst form = document.querySelector('.feedback-form');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\n\nform.addEventListener('input', onInputData);\nform.addEventListener('submit', onFormSubmit);\n\nlet dataForm = loadFormData();\n\nfunction onInputData(e) {\n  const { email, message } = form.elements;\n  dataForm = { email: email.value.trim(), message: message.value.trim() };\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(dataForm));\n}\n\nfunction loadFormData() {\n  return JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n}\n\nfunction reloadPage() {\n  const { email, message } = form.elements;\n  if (dataForm) {\n    email.value = dataForm.email || '';\n    message.value = dataForm.message || '';\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const { email, message } = form.elements;\n\n  if (email.value.trim() === '' || message.value.trim() === '') {\n    return alert('Please fill in all the fields!');\n  }\n\n  console.log({ email: email.value, message: message.value });\n\n  \n  localStorage.removeItem(LOCAL_KEY);\n  e.currentTarget.reset();\n  dataForm = {};\n}\n\n  reloadPage();\n\n"],"names":["createFormMarkup","formContainer","form","LOCAL_KEY","onInputData","onFormSubmit","dataForm","loadFormData","e","email","message","reloadPage"],"mappings":"wFAAA,SAASA,GAAmB,CAC1B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAaT,CAEA,MAAMC,EAAgB,SAAS,eAAe,gBAAgB,EAC9DA,EAAc,UAAYD,IAE1B,MAAME,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAY,sBAGlBD,EAAK,iBAAiB,QAASE,CAAW,EAC1CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,IAAIC,EAAWC,EAAY,EAE3B,SAASH,EAAYI,EAAG,CACtB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYR,EAAK,SAChCI,EAAW,CAAE,MAAOG,EAAM,MAAM,OAAQ,QAASC,EAAQ,MAAM,KAAM,CAAA,EACrE,aAAa,QAAQP,EAAW,KAAK,UAAUG,CAAQ,CAAC,CAC1D,CAEA,SAASC,GAAe,CACtB,OAAO,KAAK,MAAM,aAAa,QAAQJ,CAAS,CAAC,GAAK,EACxD,CAEA,SAASQ,GAAa,CACpB,KAAM,CAAE,MAAAF,EAAO,QAAAC,GAAYR,EAAK,SAC5BI,IACFG,EAAM,MAAQH,EAAS,OAAS,GAChCI,EAAQ,MAAQJ,EAAS,SAAW,GAExC,CAEA,SAASD,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYR,EAAK,SAEhC,GAAIO,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,GACxD,OAAO,MAAM,gCAAgC,EAG/C,QAAQ,IAAI,CAAE,MAAOD,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAG1D,aAAa,WAAWP,CAAS,EACjCK,EAAE,cAAc,QAChBF,EAAW,CAAA,CACb,CAEEK,EAAY"}